# fastapi_ecommerce

–ë—ç–∫–µ–Ω–¥ e-commerce API –Ω–∞ **FastAPI**, **SQLAlchemy** –∏ **Pydantic**

REST API –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, —Ç–æ–≤–∞—Ä—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∫–æ—Ä–∑–∏–Ω–∞ –∏ –∑–∞–∫–∞–∑—ã.  
–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

## üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)  
- CRUD –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤, –∫–∞—Ç–µ–≥–æ—Ä–∏–π 
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è  
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ  
- –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤  
- –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
git clone https://github.com/MaminAmetist/fastapi_ecommerce.git
cd fastapi_ecommerce
```

2. –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```bash
python3 -m venv venv
source venv/bin/activate         # Linux / macOS
# –∏–ª–∏
venv\Scripts\activate            # Windows
```

3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

üóÑ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π —Ñ–∞–π–ª .env –∏ –ø—Ä–æ–ø–∏—à–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```bash
DATABASE_URL=postgresql+asyncpg://username:passwords@localhost:5432/name_db
SECRET_KEY=—Ç–≤–æ–π_—Å–µ–∫—Ä–µ—Ç_–∫–ª—é—á
YOOKASSA_SHOP_ID=xxxxxx
YOOKASSA_SECRET_KEY = live_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

üõ† –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
alembic upgrade head
```

‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫
```bash
uvicorn app.main:app --reload
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ —Å—Å—ã–ª–∫–µ http://127.0.0.1:8000

üìò –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

FastAPI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç Swagger –∏ ReDoc:

Swagger UI: /docs

OpenAPI JSON: /openapi.json

ReDoc UI: /redoc

–ü—Ä–∏–º–µ—Ä: http://127.0.0.1:8000/docs

üìå –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

–ö–∞—Ç–µ–≥–æ—Ä–∏–∏
```
–ú–µ—Ç–æ–¥	URL	                        –û–ø–∏—Å–∞–Ω–∏–µ
GET	/categories	                –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
POST	/categories	                –°–æ–∑–¥–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
PUT	/categories/{category_id}	–û–±–Ω–æ–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
DELETE	/categories/{category_id}	–£–¥–∞–ª–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
```
–¢–æ–≤–∞—Ä—ã
```
–ú–µ—Ç–æ–¥	URL	                                –û–ø–∏—Å–∞–Ω–∏–µ
GET	/products	                        –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
GET	/products/category/{category_id}	–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
GET	/products/{product_id}	                –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä –ø–æ id
PUT	/products/{product_id}	                –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–≤–∞—Ä
POST	/products	                        –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä
DELETE	/products/{product_id}	                –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä
GET     /products/reviews                       –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–∑—ã–≤—ã –æ —Ç–æ–≤–∞—Ä–∞—Ö
POST    /products/reviews                       –°–æ–∑–¥–∞—Ç—å –æ—Ç–∑—ã–≤
GET     /products/{product_id}/reviews          –ü–æ–ª—É—á–∏—Ç—å –æ—Ç–∑—ã–≤—ã –æ —Ç–æ–≤–∞—Ä–µ –ø–æ –µ–≥–æ id
DELETE	/products/reviews/{review_id}	        –£–¥–∞–ª–∏—Ç—å –æ—Ç–∑—ã–≤
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```
–ú–µ—Ç–æ–¥	URL	                –û–ø–∏—Å–∞–Ω–∏–µ
POST	/users	                –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
POST	/users/token	        –í—Ö–æ–¥ 
POST	/users/refresh-token	–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ—Ñ—Ä–µ—à-—Ç–æ–∫–µ–Ω–∞
```
–ö–æ—Ä–∑–∏–Ω–∞
```
–ú–µ—Ç–æ–¥	URL	                        –û–ø–∏—Å–∞–Ω–∏–µ
GET     /cart                           –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω–µ
DELETE	/cart	                        –£–¥–∞–ª–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É
POST	/cart/items	                –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–æ—Ä–∑–∏–Ω—É
PUT     /cart/items/{product_id}        –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ç–æ–≤–∞—Ä–µ 
DELETE	/cart/items/{product_id}	–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
```
–ó–∞–∫–∞–∑—ã
```
–ú–µ—Ç–æ–¥	URL	                        –û–ø–∏—Å–∞–Ω–∏–µ
POST	/orders/checkout	        –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
GET	/orders/	                –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET	/orders/{order_id}	        –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ
```

(–ï—Å–ª–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –¥—Ä—É–≥–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã ‚Äî –¥–æ–ø–æ–ª–Ω–∏ —Ä–∞–∑–¥–µ–ª)

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
```bash
POST /auth/signup
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "–ø–∞—Ä–æ–ª—å123"
}
```

#### –õ–æ–≥–∏–Ω –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
```bash
POST /auth/login
Content-Type: application/json

{
  "email": "user@example.com",
  "password": "–ø–∞—Ä–æ–ª—å123"
}
```

### –û—Ç–≤–µ—Ç:

```json
{
  "access_token": "eyJ‚Ä¶",
  "token_type": "bearer"
}
```